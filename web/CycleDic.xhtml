<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>План навчального процесу</title>
    </h:head>
    <h:body>
        <ui:include src="MainMenu.xhtml"/>
        
   <h:form id="form">
       
       <p:dataTable id="datas" var="type" value="#{cycleDicBean.list}" rowKey="#{type.name}"
                    selection="#{cycleDicBean.selected}" selectionMode="single" scrollable="true" scrollHeight="600">
           
        <p:column headerText="Цикли">
            <h:outputText value="#{type.name}" />  
        </p:column>
                 
        <f:facet name="footer">
             <p:commandButton id="add" value="Добавить" oncomplete="PF('add').show()" action="#{cycleDicBean.editCycle()}" update=":form:display"/>
            <p:commandButton id="viewButton" value="Редактировать" oncomplete="PF('cycle').show()" action="#{cycleDicBean.editCycle()}" update=":form:display"/>
             <p:commandButton id="deleteButton" value="Удалить" action="#{cycleDicBean.deleteCycle()}" update=":form:datas"/>
        </f:facet>
           
    </p:dataTable>
       
         <p:dialog id="dialog" header="Редактирование цикла" widgetVar="cycle"
                showEffect="fade" hideEffect="explode">  
  
             <h:panelGrid id="display" columns="2" >  
            <h:outputLabel value="Цикл" for="napr" />
            <h:inputText id="napr" value="#{cycleDicBean.edit}" style="width: 600px;"/>  
            
            <p:commandButton value="Редактировать" oncomplete="PF('cycle').hide();" actionListener="#{cycleDicBean.postEdit()}" update=":form:datas"/>
            <p:commandButton value="Отмена" oncomplete="PF('cycle').hide();"/>
              
        </h:panelGrid>  
    </p:dialog>
       <p:dialog id="addDialog" header="Редактирование цикла" widgetVar="add"
                showEffect="fade" hideEffect="explode">  
  
             <h:panelGrid id="addDisplay" columns="2" >  
            <h:outputLabel value="Цикл" for="addNapr" />
            <h:inputText id="addNapr" value="#{cycleDicBean.add}" style="width: 600px;"/>  
            <p:commandButton value="Добавить" oncomplete="PF('add').hide();" actionListener="#{cycleDicBean.postAdd()}" update=":form:datas"/>
            <p:commandButton value="Отмена" oncomplete="PF('add').hide();"/>
             
        </h:panelGrid>  
    </p:dialog>
  </h:form>
  
    </h:body>
</html>
