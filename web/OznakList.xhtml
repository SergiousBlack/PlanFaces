<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    
    <h:head>
        <title>Плани</title>
    </h:head>
    
    <h:body>
   <ui:include src="MainMenu.xhtml" />
   
  <h:form id="form">
      <br/>
      <p:dataTable id="oznak" var="oz" value="#{oznak.mainList}" rowKey="#{oz.idOz}"  
                   selection="#{oznak.selected}" selectionMode="single">  
  
        <f:facet name="header">  
            <p:commandButton value="Добавить" action="#{oznak.clearPannel()}" oncomplete="PF('carDialog').show()" update=":form:dialog"/>
            <p:commandButton value="Редактировать" action="#{oznak.edit()}" update=":form:edit" oncomplete="PF('editDialog').show()"/>
            <p:commandButton value="Удалить" action="#{oznak.deleteoz()}" update=":form:oznak"/>
        </f:facet>  
  
        <p:column headerText="Сокращение">  
            #{oz.shortname}
        </p:column>  
  
        <p:column headerText="Полное название">  
              #{oz.fullname}
        </p:column>  
  
    </p:dataTable>  
      
      <p:dialog id="dialog" header="Добавление" widgetVar="carDialog" resizable="false"  
                width="400" height="180" >  
        <h:panelGrid id="display" columns="2" cellpadding="4">  
  
            <h:outputText value="Полное название обозначения" />  
            <h:inputText value="#{oznak.longoz}" />  
  
            <h:outputText value="Сокращенная форма" />  
            <h:inputText value="#{oznak.shortoz}" />  
             
            <p:commandButton value="Добавить" action="#{oznak.addOZ()}" oncomplete="PF('carDialog').hide();" update=":form:oznak" style="position: absolute; right: 25px;  "/>
         </h:panelGrid>  
    </p:dialog>  
      
      <p:dialog id="edit" header="Редактирование" widgetVar="editDialog" resizable="false"  
                width="400" height="180" >  
        <h:panelGrid id="displayу" columns="2" cellpadding="4">  
  
            <h:outputText value="Полное название обозначения" />  
            <h:inputText value="#{oznak.edtL}" />  
  
            <h:outputText value="Сокращенная форма" />  
            <h:inputText value="#{oznak.edtS}" />  
             
            <p:commandButton value="Редактировать" action="#{oznak.edtOZ()}" oncomplete="PF('editDialog').hide();" update=":form:oznak" style="position: absolute; right: 25px;  "/>
         </h:panelGrid>  
    </p:dialog>  
      
  </h:form>
        
    </h:body>
</html>

